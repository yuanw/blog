---
title: Using Hakyll with Github Pages (Nix Edition)
date: January 29, 2020
comment:  This is a comment intended to demonstrate  
          metadata that spans multiple lines, yet  
          is treated as a single value.  
---
Last Modified on January 30, 2020

* Why
So I have been learning nix, and want to write down my experinces. I had a simple github page generated using Hakyll.
Nothing fancy, I just followed Erik Stevenson's [[https://jaspervdj.be/hakyll/tutorials/github-pages-tutorial.html][tutorial]]. 

The tutorial assumes you use [[https://docs.haskellstack.org/en/stable/README/][Stack]]. So I gave a try to nixify my github page repo as a practice.
I did find a [[https://deptype.com/posts/2019-02-21-create-blog-nix-hakyll-aws.html][blog]] post about using Hakyll with Nix.

* Setup
** Install nix
** [[https://all-hies.cachix.org/][enable all-hies cachix]]
* Boostrap the project
#+begin_src sh
nix-shell -p haskellPackages.hakyll
hakyll-init <siteName>
cd <siteName>
nix-shell -p cabal2nix # unless you already installed cabal2nix
cabal2nix . > default.nix
#+end_src
* Write shell.nix


* References
- https://jaspervdj.be/hakyll/tutorials/github-pages-tutorial.html
- https://deptype.com/posts/2019-02-21-create-blog-nix-hakyll-aws.html
